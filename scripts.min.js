"use strict";angular.module("jensenArticleStockShipping",["jensenArticleService","twsApi"]),angular.module("twsArticleStockShipping").directive("twsArticleStockShipping",["twsApi.Jed","twsApi.Locale","$q","twsArticleService.ArticleService","$sce",function(e,t,i,c,n){return{restrict:"EA",scope:{articleUid:"=articleUid"},templateUrl:"jensen-article-stock-shipping/templates/jensenArticleStockShipping.html",link:function(i,l,s){e(i,"tws-article-stock-shipping"),i.lang=t.language(),i.$watch("articleUid",function(e){e&&c.update(i.articleUid).then(function(e){var t=e.article.stock,c=e.article.deliveryInfo;i.article=e.article,i.articleData=e,i.schemaForm=e.schemaForm;var l=t.message[i.lang]||"",s=parseInt(l.replace(/[^\d]*/,""),10);isNaN(s)?i.stockMessage=t.message?n.trustAsHtml(l):"":i.stockMessage="I lager: "+50*s+" cm",i.deliveryInfo=c?n.trustAsHtml(c[i.lang]||""):""})})}}}]),angular.module("jensenArticleStockShipping").run(["$templateCache",function(e){e.put("jensen-article-stock-shipping/templates/jensenArticleStockShipping.html",'<div ng-show="article.uid && !article.presentationOnly"><div class="row"><div class="col-md-12"><div class="tws-article-stock-shipping--stock-info"><div ng-if="article.unit.sv === \'50 cm\' && article.stock.useStock"><p ng-bind-html="stockMessage"></p></div></div><p ng-if="article.deliveryInfo && article.deliveryInfo[lang] !== null && !articleData.hasStockInVariants">{{gettext(\'Delivery\')}}: <span ng-bind-html="deliveryInfo"></span></p></div></div></div>')}]);